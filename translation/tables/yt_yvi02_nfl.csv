rule_id,target_attribute,target_attribute_type,validation_rules,translation_rules,description,desc_uptodate_with_rules
0,ROW_TRANSLATION_RULE,NA,"hasNFLInfo(inventory_id, {nfl_att1, nfl_att2, nfl_att3}, {filter1, filter2, filter3, filter4, filter5}|NOT_APPLICABLE)",NA,If any of the NFL attributes have values there is an nfl row. 6 possible NFL translations from 6 different source attributes. Any combination can occur so run them as 6 separate translations. hasNFLInfo determines if an NFL values is present on the row for whichever nfl attribute is being translated. Only one of the six source attributes is provided on each row in attribute_dependencies., TRUE
1,CAS_ID,text,notEmpty(inventory_id);notNull(src_filename);notNull(map_sheet_id);notNull(orig_stand_id);notNull(ogc_fid),"padConcat({inventory_id, src_filename, map_sheet_id, orig_stand_id, ogc_fid}, {4,15,10,10,7}, {'x','x','x','x','x'}, '-', TRUE, TRUE)",Concatenates five attributes to create CAS_ID,TRUE
2,SOIL_MOIST_REG,text,"notNull(soil_moist_reg);notEmpty(soil_moist_reg);matchList(soil_moist_reg,{'Dry','Fresh','Moderately Dry','Moderately Fresh','Moderately Moist','Moderately Wet','Moist','Very Fresh','Very Moist','Very Wet','Wet'}, FALSE, FALSE, TRUE, FALSE)","mapText(soil_moist_reg, {'Dry','Fresh','Moderately Dry','Moderately Fresh','Moderately Moist','Moderately Wet','Moist','Very Fresh','Very Moist','Very Wet','Wet'}, {'DRY','MESIC','DRY','MESIC','MOIST','WET','MOIST','MESIC','MOIST','WET','WET'}, FALSE, FALSE)",Translate the polygons soil moisture if it is available. removeSpaces must be set to FALSE.,TRUE
3,STRUCTURE_PER,integer,true(),copyInt(100),No horizontal structure so structure percent is 100,TRUE
4,LAYER,integer,true(),"countOfNotNull({species_1_layer1, species_2_layer1, species_3_layer1, species_4_layer1}, {species_1_layer2, species_2_layer2, species_3_layer2, species_4_layer2}, {layer_water}, {layer_exposed_land}, {layer_snow_ice}, {layer_anthropogenic}, {layer_shrub_type}, {layer_non_shrub_type}, layer, FALSE)","Count LYR layers and up to 6 NFL layers, truncating the list to count from by the layer being translated",TRUE
5,LAYER_RANK,integer,false(),nothingInt(),Attribute does not occur,TRUE
6,CROWN_CLOSURE_UPPER,integer,notNull(nfl_crown_closure); isInt(nfl_crown_closure),copyInt(nfl_crown_closure),"For shrub and herb rows, copy the percent cover of the nfl component. This is the area of the polygon covered by the shrub or herb component. Note that all NFL source attributes have an associated percent cover. We don't have a place to record this in the current schema because structure_range is only used for horizontal stands and the is no defined horizontal structure in YT.",TRUE
7,CROWN_CLOSURE_LOWER,integer,notNull(nfl_crown_closure); isInt(nfl_crown_closure),copyInt(nfl_crown_closure),"For shrub and herb rows, copy the percent cover of the nfl component. This is the area of the polygon covered by the shrub or herb component. Note that all NFL source attributes have an associated percent cover. We don't have a place to record this in the current schema because structure_range is only used for horizontal stands and the is no defined horizontal structure in YT.",TRUE
8,HEIGHT_UPPER,double precision,false(),nothingDouble(),No height value for nfl,TRUE
9,HEIGHT_LOWER,double precision,false(),nothingDouble(),No height value for nfl,TRUE
10,NAT_NON_VEG,text,"notNull(nat_non_veg|NOT_APPLICABLE);notEmpty(nat_non_veg);matchList(nat_non_veg, {'Lake','River','Beach','Bedrock','Cut Bank','Exposed Soil','Pond/Lake Sediment','River Sediment','Rubble','Sand','Talus','Snow/Ice','Exposed Land'}, FALSE, FALSE, TRUE, FALSE)","mapText(nat_non_veg, {'Lake','River','Beach','Bedrock','Cut Bank','Exposed Soil','Pond/Lake Sediment','River Sediment','Rubble','Sand','Talus','Snow/Ice','Exposed Land'}, {'LAKE','RIVER','BEACH','ROCK_RUBBLE','SLIDE','EXPOSED_LAND','WATER_SEDIMENT','WATER_SEDIMENT','ROCK_RUBBLE','SAND','ROCK_RUBBLE','SNOW_ICE','EXPOSED_LAND'}, FALSE, FALSE)",Checks if a nat_non_veg value is provided and translates. removeSpaces must be set to FALSE.,TRUE
11,NON_FOR_ANTH,text,"notNull(non_for_anth|NOT_APPLICABLE);notEmpty(non_for_anth);matchList(non_for_anth, {'Airport','Anthropogenic Other','Cultivated','Generic Clearing','Gravel Pit','Industrial Corridor','Industrial Site','Mine Site','Mine Tailings','Railway','Road','Rural Residential','Seismic','Tower Site', 'Urban/Settlement'}, FALSE, FALSE, TRUE, FALSE)","mapText(non_for_anth, {'Airport','Anthropogenic Other','Cultivated','Generic Clearing','Gravel Pit','Industrial Corridor','Industrial Site','Mine Site','Mine Tailings','Railway','Road','Rural Residential','Seismic','Tower Site', 'Urban/Settlement'}, {'FACILITY_INFRASTRUCTURE','OTHER','CULTIVATED','OTHER','INDUSTRIAL','INDUSTRIAL','INDUSTRIAL','INDUSTRIAL','INDUSTRIAL','FACILITY_INFRASTRUCTURE','FACILITY_INFRASTRUCTURE','SETTLEMENT','INDUSTRIAL','FACILITY_INFRASTRUCTURE', 'SETTLEMENT'}, FALSE, FALSE)",Checks if a non_for_anth value is provided and translates. removeSpaces must be set to FALSE.,TRUE
12,NON_FOR_VEG,text,"notNull(non_for_veg|NOT_APPLICABLE);notEmpty(non_for_veg);matchList(non_for_veg, {'Low Shrub','Tall Shrub','Bryoid','Forb','Graminoid','Herb','Lichen','Moss'}, FALSE, FALSE, TRUE, FALSE)","mapText(non_for_veg, {'Low Shrub','Tall Shrub','Bryoid','Forb','Graminoid','Herb','Lichen','Moss'}, {'LOW_SHRUB','TALL_SHRUB','BRYOID','FORBS','GRAMINOIDS','HERBS','BRYOID','BRYOID'}, FALSE, FALSE)",Checks if a non_for_veg value is provided and translates. removeSpaces must be set to FALSE.,TRUE
