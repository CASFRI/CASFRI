rule_id,target_attribute,target_attribute_type,validation_rules,translation_rules,description,desc_uptodate_with_rules
1,CAS_ID,text,notEmpty(inventory_id);notNull(src_filename);notNull(invproj_id);notNull(fc_id_1);notNull(ogc_fid),"padConcat({inventory_id, src_filename, invproj_id, fc_id_1, ogc_fid}, {4,15,10,10,7}, {'x','x','x','0','0'}, '-', 'TRUE', 'TRUE')",Concatenates five attributes to create CAS_ID,TRUE
2,INVENTORY_ID,text,notEmpty(inventory_id),copyText(inventory_id),Copies source value,TRUE
3,ORIG_STAND_ID,text,"notNull(fc_id_1);isInt(fc_id_1);isGreaterThan(fc_id_1,0)",copyText(fc_id_1),Copies source value to ORIG_STAND_ID,TRUE
4,STAND_STRUCTURE,text,"notNull(structur);notEmpty(structur);matchList(structur,{'C','H','M','S'})",copyText(structur),Copies source value to STAND_STRUCTURE,TRUE
5,NUM_OF_LAYERS,integer,true(),"countOfNotNull({dummy1, dummy2, dummy3, dummy4}, {dummy5, dummy6, dummy7, dummy8}, {dummy9}, {dummy10}, 4)","Counts number of layers based on the presence of a not null value for attributes representing each layer. Assumes LYR1 must have sp1 or sp2 or sp3 or sp4 attribute and LYR2 must have minsp1 or minsp2 or minsp3 or minsp4 attribute. Species values are not hierarchical so you can have sp2 with no sp1. Assumes valid NFL1 must have typeclas, NFL2 must have mintypecla. See attribute dependencies table for mappings.",TRUE
6,MAP_SHEET_ID,text,false(),nothingText(),Copies source value to MAP_SHEET_ID,TRUE
7,CASFRI_AREA,double precision,"geoIsValid(wkb_geometry, TRUE)",geoArea(wkb_geometry),Validates geometry then calculates area,TRUE
8,CASFRI_PERIMETER,double precision,"geoIsValid(wkb_geometry, TRUE)",geoPerimeter(wkb_geometry),Validates geometry then calculates perimeter,TRUE
9,SRC_INV_AREA,double precision,"notNull(areaha);isNumeric(areaha);isGreaterThan(areaha,0)",copyDouble(areaha),Copies source value to SRC_INV_AREA,TRUE
10,STAND_PHOTO_YEAR,integer,"notNull(ref_year);isInt(ref_year);isBetween(ref_year, 1900, 2020)",copyInt(ref_year),Copies source value to STAND_PHOTO_YEAR,TRUE
