rule_id,target_attribute,target_attribute_type,validation_rules,translation_rules,description,desc_uptodate_with_rules
0,ROW_TRANSLATION_RULE,NA,"matchList(type_disturb, {'m','M','v','V','w','W','x','X','y','Y','z','Z'}); matchList(type_sil, {'PB','p','P','DS','SP','PCT','CT','CAR','CNR','MAR','PM','RC','GP','H','IS','DLT','AS','CTD'}); isGreaterThan(year_disturb, 1); isGreaterThan(year_sil, 1)",NA,"Translate row if it has a valid disturbance or silviculture value, or if it has a disturbance or silviculture year value that is greater than or equal to 1. i.e. not zero.",TRUE
1,CAS_ID,text,notEmpty(inventory_id);notEmpty(src_filename);notNull(orig_stand_id);notNull(lcov_id_1);notNull(ogc_fid),"padConcat({inventory_id, src_filename, orig_stand_id, lcov_id_1, ogc_fid}, {4,15,10,10,7}, {'x','x','x','x','x'}, '-', 'TRUE', 'TRUE')",Concatenates five attributes to create CAS_ID,TRUE
2,DIST_TYPE_1,text,"minIndexNotNull({year_disturb, year_sil}, {type_disturb, type_sil}, 9999, 9999);minIndexNotEmpty({year_disturb, year_sil}, {type_disturb, type_sil}, 9999, 9999);minIndexMatchList({year_disturb, year_sil}, {type_disturb, type_sil}, {'m','M','v','V','w','W','x','X','y','Y','z','Z','PB','p','P','DS','SP','PCT','CT','CAR','CNR','MAR','PM','RC','GP','H','IS','DLT','AS','CTD'}, 9999, 9999)","minIndexMapText({year_disturb, year_sil}, {type_disturb, type_sil}, {'m','M','v','V','w','W','x','X','y','Y','z','Z','PB','p','P','DS','SP','PCT','CT','CAR','CNR','MAR','PM','RC','GP','H','IS','DLT','AS','CTD'}, {'OTHER','OTHER','OTHER','OTHER','WINDFALL','WINDFALL','CUT','CUT','BURN','BURN','INSECT','INSECT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT'}, 9999, 9999)","Disturbances can be stored as a disturbance type or as a silverculture treatment. Get the oldest year value after converting null and zero years to 9999 (so disturbances without years are considered youngest). For the disturbance type corresponding to the oldest year, check its not null or empty, check its in the list, then translate using maptext.",TRUE
3,DIST_YEAR_1,integer,"minIndexIsInt({year_disturb, year_sil}, {year_disturb, year_sil}, 9999, 9999);minIndexIsBetween({year_disturb, year_sil}, {year_disturb, year_sil}, 1000, 2020, 9999, 9999|-8886)","minIndexCopyInt({year_disturb, year_sil}, {year_disturb, year_sil}, 9999, 9999)","From list of the two year values, convert any nulls or zeros to 9999, then get the lowest value, test it is int, test it is between 1000 and 2000, and return it.",TRUE
4,DIST_EXT_UPPER_1,integer,false(|-8886),nothingInt(),Extent is unknown,TRUE
5,DIST_EXT_LOWER_1,integer,false(|-8886),nothingInt(),Extent is unknown,TRUE
6,DIST_TYPE_2,text,"maxIndexNotNull({year_disturb, year_sil}, {type_disturb, type_sil}, 9999, 9999);maxIndexNotEmpty({year_disturb, year_sil}, {type_disturb, type_sil}, 9999, 9999);maxIndexMatchList({year_disturb, year_sil}, {type_disturb, type_sil}, {'m','M','v','V','w','W','x','X','y','Y','z','Z','PB','p','P','DS','SP','PCT','CT','CAR','CNR','MAR','PM','RC','GP','H','IS','DLT','AS','CTD'}, 9999, 9999)","maxIndexMapText({year_disturb, year_sil}, {type_disturb, type_sil}, {'m','M','v','V','w','W','x','X','y','Y','z','Z','PB','p','P','DS','SP','PCT','CT','CAR','CNR','MAR','PM','RC','GP','H','IS','DLT','AS','CTD'}, {'OTHER','OTHER','OTHER','OTHER','WINDFALL','WINDFALL','CUT','CUT','BURN','BURN','INSECT','INSECT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT','SILVICULTURE_TREATMENT'}, 9999, 9999)","Disturbances can be stored as a disturbance type or as a silverculture treatment. Get the oldest year value after converting null and zero years to 9999 (so disturbances without years are considered youngest). For the disturbance type corresponding to the oldest year, check its not null or empty, check its in the list, then translate using maptext.",TRUE
7,DIST_YEAR_2,integer,"maxIndexIsInt({year_disturb, year_sil}, {year_disturb, year_sil}, 9999, 9999);maxIndexIsBetween({year_disturb, year_sil}, {year_disturb, year_sil}, 1000, 2020, 9999, 9999|-8886)","maxIndexCopyInt({year_disturb, year_sil}, {year_disturb, year_sil}, 9999, 9999)","From the list of the two year values, convert any nulls or zeros to 9999, then get the lowest value, test it is int, test it is between 1000 and 2000, and return it.",TRUE
8,DIST_EXT_UPPER_2,integer,false(|-8886),nothingInt(),"Check for second disturbance, if present return unknown for extent.",TRUE
9,DIST_EXT_LOWER_2,integer,false(|-8886),nothingInt(),"Check for second disturbance, if present return unknown for extent.",TRUE
10,DIST_TYPE_3,text,false(),nothingText(),Attribute does not occur,TRUE
11,DIST_YEAR_3,integer,false(),nothingInt(),Attribute does not occur,TRUE
12,DIST_EXT_UPPER_3,integer,false(),nothingInt(),Attribute does not occur,TRUE
13,DIST_EXT_LOWER_3,integer,false(),nothingInt(),Attribute does not occur,TRUE
14,LAYER,integer,false(|-8886),nothingInt(),Disturbance layer is unknown,TRUE
