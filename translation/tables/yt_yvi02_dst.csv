rule_id,target_attribute,target_attribute_type,validation_rules,translation_rules,description,desc_uptodate_with_rules
0,ROW_TRANSLATION_RULE,NA,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, FALSE)",NA,"Translate rows that have at least 1 disturbance reported in the layer being processed. Since every disturbance record has a valid layer assignment of either 'Entire polygon disturbed', 'Layer 1 disturbance', or 'Layer 2 disturbance', we can count the number of disturbances per layer using their layer values. For layer one, count the 'Entire polygon disturbed' and 'Layer 1 disturbance' values, for layer 2 count the 'Entire polygon disturbed', 'Layer 2 disturbance' values. Disturbances effecting the entire polygon will be reported in both layers, but might not always be the same disturbance type (e.g. dist_type_1). ", TRUE
1,CAS_ID,text,notEmpty(inventory_id);notNull(src_filename);notNull(map_sheet_id);notNull(orig_stand_id);notNull(ogc_fid),"padConcat({inventory_id, src_filename, map_sheet_id, orig_stand_id, ogc_fid}, {4,15,10,10,7}, {'x','x','x','x','x'}, '-', TRUE, TRUE)",Concatenates five attributes to create CAS_ID,TRUE
2,DIST_TYPE_1,text,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, FALSE|NOT_APPLICABLE); yt_yvi02_disturbance_matchList({dist_type_1, dist_type_2, dist_type_3, dist_type_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, {'DB','DF','DI','DL','DS','SI','SL'})","yt_yvi02_disturbance_mapText({dist_type_1, dist_type_2, dist_type_3, dist_type_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, {'DB','DF','DI','DL','DM','DS','DW','SI','SL','UC'}, {'BURN','FLOOD','INSECT','CUT','OTHER','OTHER','WINDFALL','SILVICULTURE_TREATMENT','SLIDE','OTHER'})","At least one disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Translation filters the disturbances by layer 1 or 2, orders them, and passes the first value to matchList",TRUE
3,DIST_YEAR_1,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1)","yt_yvi02_disturbance_copyInt({dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1)","At least one disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Get the first year, check it's not null, copy it.",TRUE
4,DIST_EXT_UPPER_1,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1)","yt_yvi02_disturbance_copyInt({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1)","At least one disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Order by year, get the first extent value, check its not null, copy it.",TRUE
5,DIST_EXT_LOWER_1,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1)","yt_yvi02_disturbance_copyInt({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 1)","At least one disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Order by year, get the first extent value, check its not null, copy it.",TRUE
6,DIST_TYPE_2,text,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2, FALSE|NOT_APPLICABLE); yt_yvi02_disturbance_matchList({dist_type_1, dist_type_2, dist_type_3, dist_type_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2, {'DB','DF','DI','DL','DS','SI','SL'})","yt_yvi02_disturbance_mapText({dist_type_1, dist_type_2, dist_type_3, dist_type_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2, {'DB','DF','DI','DL','DM','DS','DW','SI','SL','UC'}, {'BURN','FLOOD','INSECT','CUT','OTHER','OTHER','WINDFALL','SILVICULTURE_TREATMENT','SLIDE','OTHER'})","At least two disturbances required for the layer being processed. Check using the hasCountOfMatchList call. Translation filters the disturbances by layer 1 or 2, orders them, and passes the second  value to matchList",TRUE
7,DIST_YEAR_2,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2)","yt_yvi02_disturbance_copyInt({dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2)","At least two disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Get the second year, check it's not null, copy it.",TRUE
8,DIST_EXT_UPPER_2,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2)","yt_yvi02_disturbance_copyInt({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2)","At least two disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Order by year, get the second extent value, check its not null, copy it.",TRUE
9,DIST_EXT_LOWER_2,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2)","yt_yvi02_disturbance_copyInt({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 2)","At least two disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Order by year, get the second extent value, check its not null, copy it.",TRUE
10,DIST_TYPE_3,text,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3, FALSE|NOT_APPLICABLE); yt_yvi02_disturbance_matchList({dist_type_1, dist_type_2, dist_type_3, dist_type_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3, {'DB','DF','DI','DL','DS','SI','SL'})","yt_yvi02_disturbance_mapText({dist_type_1, dist_type_2, dist_type_3, dist_type_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3, {'DB','DF','DI','DL','DM','DS','DW','SI','SL','UC'}, {'BURN','FLOOD','INSECT','CUT','OTHER','OTHER','WINDFALL','SILVICULTURE_TREATMENT','SLIDE','OTHER'})","At least two disturbances required for the layer being processed. Check using the hasCountOfMatchList call. Translation filters the disturbances by layer 1 or 2, orders them, and passes the second  value to matchList",TRUE
11,DIST_YEAR_3,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3)","yt_yvi02_disturbance_copyInt({dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3)","At least two disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Get the second year, check it's not null, copy it.",TRUE
12,DIST_EXT_UPPER_3,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3)","yt_yvi02_disturbance_copyInt({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3)","At least two disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Order by year, get the second extent value, check its not null, copy it.",TRUE
13,DIST_EXT_LOWER_3,integer,"yt_yvi02_disturbance_hasCountOfLayers({dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3, FALSE|-8887); yt_yvi02_disturbance_notNull({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3)","yt_yvi02_disturbance_copyInt({dist_ext_1, dist_ext_2, dist_ext_3, dist_ext_4}, {dist_year_1, dist_year_2, dist_year_3, dist_year_4}, {dist_layer_1, dist_layer_2, dist_layer_3, dist_layer_4}, layer, 3)","At least two disturbance required for the layer being processed. Check using the hasCountOfMatchList call. Order by year, get the second extent value, check its not null, copy it.",TRUE
14,LAYER,integer,true(),copyInt(layer),Disturbance can be layer 1 or layer 2,TRUE
